package com.rengelbert.fussball3d{		import away3d.containers.ObjectContainer3D;	import away3d.entities.Mesh;	import away3d.materials.ColorMaterial;	import away3d.materials.TextureMaterial;	import away3d.primitives.CubeGeometry;	import away3d.primitives.CylinderGeometry;	import away3d.utils.Cast;		import flash.display.Sprite;	import flash.geom.Point;	
		public class Player extends GameSprite	{		[Embed(source="/../assets/head.jpg")]		public static const HEAD_TEXTURE:Class;				[Embed(source="/../assets/brazil.jpg")]		public static const BRAZIL_TEXTURE:Class;				[Embed(source="/../assets/argentina.jpg")]		public static const ARGENTINA_TEXTURE:Class;						public static const TEAM_1:int = 0;		public static const TEAM_2:int = 1;						public static const PLAYER_LEG_HEIGHT:int = 8;		public static const PLAYER_BODY_HEIGHT:int = 20;		public static const PLAYER_SHOES_HEIGHT:int = 10;		public static const PLAYER_SHOES_RADIUS:int = 14;		public static const PLAYER_HEAD_HEIGHT:int = 20;				public static var PLAYER_LENGTH:Number;				public static const PLAYER_WIDTH:int = 34;		public static const PLAYER_DEPTH:int = 20;		public static const PLAYER_RADIUS:int = 12;		public static const PLAYER_SQUARED_RADIUS:int = PLAYER_RADIUS * PLAYER_RADIUS;				private static var _material_head:TextureMaterial;		private static var _material_skin:ColorMaterial;		private static var _material_shoes:ColorMaterial;		private static var _material_brazil:TextureMaterial;		private static var _material_argentina:TextureMaterial;						public function Player(game:Fussball3d, team:int, pos:Point)		{			super(game);												if (!_material_head) {								_material_head = new TextureMaterial (Cast.bitmapTexture(HEAD_TEXTURE));				_material_skin = new ColorMaterial (0xffcc99);				_material_shoes = new ColorMaterial (0x444444);				_material_brazil = new TextureMaterial (Cast.bitmapTexture(BRAZIL_TEXTURE));				_material_argentina = new TextureMaterial (Cast.bitmapTexture(ARGENTINA_TEXTURE));								PLAYER_LENGTH = PLAYER_LEG_HEIGHT + PLAYER_BODY_HEIGHT + PLAYER_SHOES_HEIGHT * 0.5;			}						skin = new Sprite();						skin.graphics.beginFill(0x444444);			skin.graphics.drawRect(-PLAYER_WIDTH*0.5, -PLAYER_DEPTH*0.5, PLAYER_WIDTH, PLAYER_DEPTH);						skin.graphics.beginFill(0xFF9900);			skin.graphics.drawCircle(0, 0, PLAYER_RADIUS);						skin.x = x = pos.x;			skin.y = y = pos.y;						skin3d.x = pos.x - game.screenWidth * 0.5;			skin3d.y = -Player.PLAYER_HEAD_HEIGHT;			skin3d.z = 0;												//create head			var headGeometry:CubeGeometry = new CubeGeometry (PLAYER_WIDTH * 0.6, PLAYER_HEAD_HEIGHT, PLAYER_DEPTH);			var head:Mesh = new Mesh (headGeometry, _material_head);			head.y = PLAYER_HEAD_HEIGHT * 1.5;						//create body			var bodyGeometry:CubeGeometry = new CubeGeometry (PLAYER_WIDTH, PLAYER_BODY_HEIGHT, PLAYER_DEPTH);			var body:Mesh;			if (team == Player.TEAM_1) {				body = new Mesh (bodyGeometry, _material_brazil);			} else {				body = new Mesh (bodyGeometry, _material_argentina);				skin3d.rotationY = 180;				}			body.y = PLAYER_BODY_HEIGHT * 0.5;						//create legs			var legGeometry:CubeGeometry = new CubeGeometry (PLAYER_WIDTH * 0.6, PLAYER_LEG_HEIGHT, PLAYER_DEPTH);			var leg:Mesh = new Mesh (legGeometry, _material_skin);			leg.y = body.y - PLAYER_BODY_HEIGHT * 0.5 - PLAYER_LEG_HEIGHT * 0.5;						//create shoes			var shoesGeometry:CylinderGeometry = new CylinderGeometry (PLAYER_SHOES_RADIUS, PLAYER_SHOES_RADIUS, PLAYER_SHOES_HEIGHT);			var shoes:Mesh = new Mesh (shoesGeometry, _material_shoes);			shoes.y = leg.y - PLAYER_LEG_HEIGHT * 0.5 - PLAYER_SHOES_HEIGHT * 0.5;																								skin3d.addChild(head);			skin3d.addChild(body);			skin3d.addChild(leg);			skin3d.addChild(shoes);		}					}}